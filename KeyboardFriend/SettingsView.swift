//
//  LayersView.swift
//  KeebDrawTest
//
//  Created by Fredrik Lindner on 2023-07-04.
//

import SwiftUI

struct SettingsView: View {
    @EnvironmentObject var qmkInfoService: QMKInfoService
    @State var hotkeySetting = [String:Int]()
    @State var layoutSelection: String = ""
    
    var body: some View {
        VStack{
            HStack{
                Button("Load QMK keymap"){
                    let openPanel = NSOpenPanel()
                    openPanel.canChooseFiles = true
                    openPanel.canChooseDirectories = false
                    openPanel.allowsMultipleSelection = false
                    openPanel.allowedContentTypes = [.json]
                    
                    openPanel.begin { response in
                        guard response == .OK, let fileURL = openPanel.urls.first else { return }
                        
                        do {
                            let jsonData = try Data(contentsOf: fileURL)
                            let decoder = JSONDecoder()
                            let keymap = try decoder.decode(QMKKeymap.self, from: jsonData)
                            Task {
                                try? await qmkInfoService.fetchQMKInfo(keymap: keymap)
                            }
                        } catch {
                            print("Error loading JSON: \(error)")
                        }
                    }
                }
                Spacer()
                Picker("Layout", selection: $layoutSelection) {
                    pickerContent()
                }
                .onChange(of: layoutSelection) { _ in
                    qmkInfoService.changeDrawConfigForLayout(layoutKey: layoutSelection)
                }
                .onReceive(qmkInfoService.$layouts) {
                    self.layoutSelection = $0.first ?? ""
                }
                .frame(maxWidth: 200)
                .disabled(qmkInfoService.qmkInfo == nil)
                .pickerStyle(MenuPickerStyle())
            }
            Divider()
            VStack {
                if qmkInfoService.qmkInfo == nil {
                    Text("Load a keymap file to get started")
                } else {
                    TabView {
                        ForEach(qmkInfoService.currentDrawLayout.layers.sorted(by: {$0.key < $1.key}), id: \.key) {
                            layerName, layer in
                            VStack {
                                KeyboardView(maxWidth: qmkInfoService.currentDrawLayout.keyboardWidth, maxHeight: qmkInfoService.currentDrawLayout.keyboardHeigt, layer: layer)
                            }
                            .tabItem{Text("Layer \(layerName)")}
                        }
                    }
                }
            }.frame(maxHeight: .infinity)
        }.padding()
    }
    
    @ViewBuilder
    func pickerContent() -> some View {
        ForEach(qmkInfoService.layouts, id: \.self) {
            Text($0)
        }
    }
    
    @ViewBuilder
    func hotKeyPickerContent() -> some View {
        ForEach(["F12"], id: \.self) {
            Text($0)
        }
    }
}

struct SettingsView_Previews: PreviewProvider {
    static var previews: some View {
        SettingsView().environmentObject({ () -> QMKInfoService in
            let envObj = QMKInfoService()
            envObj.currentDrawLayout = DrawLayout(keyboardWidth: Double(14), keyboardHeigt: Double(4), layers: ["L2": [DrawEntry(matrix: [0, 0], x: 0.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 1], x: 1.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 2], x: 2.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 3], x: 3.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 4], x: 4.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 5], x: 5.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 6], x: 6.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 7], x: 7.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 8], x: 8.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 9], x: 9.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 10], x: 10.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 11], x: 11.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 12], x: 12.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 13], x: 13.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 13], x: 14.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 0], x: 0.0, y: 1.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [1, 1], x: 1.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 2], x: 2.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 3], x: 3.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 4], x: 4.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 5], x: 5.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 6], x: 6.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 7], x: 7.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 8], x: 8.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 9], x: 9.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 10], x: 10.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 11], x: 11.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 12], x: 12.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 13], x: 13.5, y: 1.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [2, 0], x: 0.0, y: 2.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [2, 1], x: 1.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 2], x: 2.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 3], x: 3.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 4], x: 4.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 5], x: 5.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 6], x: 6.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 7], x: 7.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 8], x: 8.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 9], x: 9.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 10], x: 10.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 11], x: 11.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 12], x: 12.75, y: 2.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 0], x: 0.0, y: 3.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 2], x: 2.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 3], x: 3.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 4], x: 4.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 5], x: 5.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 6], x: 6.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 7], x: 7.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 8], x: 8.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 9], x: 9.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 10], x: 10.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 11], x: 11.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 12], x: 12.25, y: 3.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [3, 13], x: 14.0, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 1], x: 1.5, y: 4.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 2], x: 2.5, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 7], x: 4.0, y: 4.0, w: 7.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 11], x: 11.0, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 12], x: 12.5, y: 4.0, w: 1.0, text: "KC_TRNS")], "L1": [DrawEntry(matrix: [0, 0], x: 0.0, y: 0.0, w: 1.0, text: "KC_GRV"), DrawEntry(matrix: [0, 1], x: 1.0, y: 0.0, w: 1.0, text: "KC_F1"), DrawEntry(matrix: [0, 2], x: 2.0, y: 0.0, w: 1.0, text: "KC_F2"), DrawEntry(matrix: [0, 3], x: 3.0, y: 0.0, w: 1.0, text: "KC_F3"), DrawEntry(matrix: [0, 4], x: 4.0, y: 0.0, w: 1.0, text: "KC_F4"), DrawEntry(matrix: [0, 5], x: 5.0, y: 0.0, w: 1.0, text: "KC_F5"), DrawEntry(matrix: [0, 6], x: 6.0, y: 0.0, w: 1.0, text: "KC_F6"), DrawEntry(matrix: [0, 7], x: 7.0, y: 0.0, w: 1.0, text: "KC_F7"), DrawEntry(matrix: [0, 8], x: 8.0, y: 0.0, w: 1.0, text: "KC_F8"), DrawEntry(matrix: [0, 9], x: 9.0, y: 0.0, w: 1.0, text: "KC_F9"), DrawEntry(matrix: [0, 10], x: 10.0, y: 0.0, w: 1.0, text: "KC_F10"), DrawEntry(matrix: [0, 11], x: 11.0, y: 0.0, w: 1.0, text: "KC_F11"), DrawEntry(matrix: [0, 12], x: 12.0, y: 0.0, w: 1.0, text: "KC_F12"), DrawEntry(matrix: [0, 13], x: 13.0, y: 0.0, w: 1.0, text: "KC_INS"), DrawEntry(matrix: [2, 13], x: 14.0, y: 0.0, w: 1.0, text: "KC_DEL"), DrawEntry(matrix: [1, 0], x: 0.0, y: 1.0, w: 1.5, text: "KC_CAPS"), DrawEntry(matrix: [1, 1], x: 1.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 2], x: 2.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 3], x: 3.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 4], x: 4.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 5], x: 5.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 6], x: 6.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 7], x: 7.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 8], x: 8.5, y: 1.0, w: 1.0, text: "KC_PSCR"), DrawEntry(matrix: [1, 9], x: 9.5, y: 1.0, w: 1.0, text: "KC_SCRL"), DrawEntry(matrix: [1, 10], x: 10.5, y: 1.0, w: 1.0, text: "KC_PAUS"), DrawEntry(matrix: [1, 11], x: 11.5, y: 1.0, w: 1.0, text: "KC_UP"), DrawEntry(matrix: [1, 12], x: 12.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 13], x: 13.5, y: 1.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [2, 0], x: 0.0, y: 2.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [2, 1], x: 1.75, y: 2.0, w: 1.0, text: "KC_VOLD"), DrawEntry(matrix: [2, 2], x: 2.75, y: 2.0, w: 1.0, text: "KC_VOLU"), DrawEntry(matrix: [2, 3], x: 3.75, y: 2.0, w: 1.0, text: "KC_MUTE"), DrawEntry(matrix: [2, 4], x: 4.75, y: 2.0, w: 1.0, text: "KC_EJCT"), DrawEntry(matrix: [2, 5], x: 5.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 6], x: 6.75, y: 2.0, w: 1.0, text: "KC_PAST"), DrawEntry(matrix: [2, 7], x: 7.75, y: 2.0, w: 1.0, text: "KC_PSLS"), DrawEntry(matrix: [2, 8], x: 8.75, y: 2.0, w: 1.0, text: "KC_HOME"), DrawEntry(matrix: [2, 9], x: 9.75, y: 2.0, w: 1.0, text: "KC_PGUP"), DrawEntry(matrix: [2, 10], x: 10.75, y: 2.0, w: 1.0, text: "KC_LEFT"), DrawEntry(matrix: [2, 11], x: 11.75, y: 2.0, w: 1.0, text: "KC_RGHT"), DrawEntry(matrix: [2, 12], x: 12.75, y: 2.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 0], x: 0.0, y: 3.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 2], x: 2.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 3], x: 3.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 4], x: 4.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 5], x: 5.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 6], x: 6.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 7], x: 7.25, y: 3.0, w: 1.0, text: "KC_PPLS"), DrawEntry(matrix: [3, 8], x: 8.25, y: 3.0, w: 1.0, text: "KC_PMNS"), DrawEntry(matrix: [3, 9], x: 9.25, y: 3.0, w: 1.0, text: "KC_END"), DrawEntry(matrix: [3, 10], x: 10.25, y: 3.0, w: 1.0, text: "KC_PGDN"), DrawEntry(matrix: [3, 11], x: 11.25, y: 3.0, w: 1.0, text: "KC_DOWN"), DrawEntry(matrix: [3, 12], x: 12.25, y: 3.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [3, 13], x: 14.0, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 1], x: 1.5, y: 4.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 2], x: 2.5, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 7], x: 4.0, y: 4.0, w: 7.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 11], x: 11.0, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 12], x: 12.5, y: 4.0, w: 1.0, text: "KC_TRNS")], "L3": [DrawEntry(matrix: [0, 0], x: 0.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 1], x: 1.0, y: 0.0, w: 1.0, text: "ANY(EF_DEC)"), DrawEntry(matrix: [0, 2], x: 2.0, y: 0.0, w: 1.0, text: "ANY(EF_INC)"), DrawEntry(matrix: [0, 3], x: 3.0, y: 0.0, w: 1.0, text: "ANY(H1_DEC)"), DrawEntry(matrix: [0, 4], x: 4.0, y: 0.0, w: 1.0, text: "ANY(H1_INC)"), DrawEntry(matrix: [0, 5], x: 5.0, y: 0.0, w: 1.0, text: "ANY(H2_DEC)"), DrawEntry(matrix: [0, 6], x: 6.0, y: 0.0, w: 1.0, text: "ANY(H2_INC)"), DrawEntry(matrix: [0, 7], x: 7.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 8], x: 8.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 9], x: 9.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 10], x: 10.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [0, 11], x: 11.0, y: 0.0, w: 1.0, text: "ANY(BR_DEC)"), DrawEntry(matrix: [0, 12], x: 12.0, y: 0.0, w: 1.0, text: "ANY(BR_INC)"), DrawEntry(matrix: [0, 13], x: 13.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 13], x: 14.0, y: 0.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 0], x: 0.0, y: 1.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [1, 1], x: 1.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 2], x: 2.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 3], x: 3.5, y: 1.0, w: 1.0, text: "ANY(S1_DEC)"), DrawEntry(matrix: [1, 4], x: 4.5, y: 1.0, w: 1.0, text: "ANY(S1_INC)"), DrawEntry(matrix: [1, 5], x: 5.5, y: 1.0, w: 1.0, text: "ANY(S2_DEC)"), DrawEntry(matrix: [1, 6], x: 6.5, y: 1.0, w: 1.0, text: "ANY(S2_INC)"), DrawEntry(matrix: [1, 7], x: 7.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 8], x: 8.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 9], x: 9.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 10], x: 10.5, y: 1.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [1, 11], x: 11.5, y: 1.0, w: 1.0, text: "ANY(ES_DEC)"), DrawEntry(matrix: [1, 12], x: 12.5, y: 1.0, w: 1.0, text: "ANY(ES_INC)"), DrawEntry(matrix: [1, 13], x: 13.5, y: 1.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [2, 0], x: 0.0, y: 2.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [2, 1], x: 1.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 2], x: 2.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 3], x: 3.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 4], x: 4.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 5], x: 5.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 6], x: 6.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 7], x: 7.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 8], x: 8.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 9], x: 9.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 10], x: 10.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 11], x: 11.75, y: 2.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [2, 12], x: 12.75, y: 2.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 0], x: 0.0, y: 3.0, w: 2.25, text: "KC_TRNS"), DrawEntry(matrix: [3, 2], x: 2.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 3], x: 3.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 4], x: 4.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 5], x: 5.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 6], x: 6.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 7], x: 7.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 8], x: 8.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 9], x: 9.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 10], x: 10.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 11], x: 11.25, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [3, 12], x: 12.25, y: 3.0, w: 1.75, text: "KC_TRNS"), DrawEntry(matrix: [3, 13], x: 14.0, y: 3.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 1], x: 1.5, y: 4.0, w: 1.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 2], x: 2.5, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 7], x: 4.0, y: 4.0, w: 7.0, text: "KC_TRNS"), DrawEntry(matrix: [4, 11], x: 11.0, y: 4.0, w: 1.5, text: "KC_TRNS"), DrawEntry(matrix: [4, 12], x: 12.5, y: 4.0, w: 1.0, text: "KC_TRNS")], "L0": [DrawEntry(matrix: [0, 0], x: 0.0, y: 0.0, w: 1.0, text: "KC_ESC"), DrawEntry(matrix: [0, 1], x: 1.0, y: 0.0, w: 1.0, text: "KC_1"), DrawEntry(matrix: [0, 2], x: 2.0, y: 0.0, w: 1.0, text: "KC_2"), DrawEntry(matrix: [0, 3], x: 3.0, y: 0.0, w: 1.0, text: "KC_3"), DrawEntry(matrix: [0, 4], x: 4.0, y: 0.0, w: 1.0, text: "KC_4"), DrawEntry(matrix: [0, 5], x: 5.0, y: 0.0, w: 1.0, text: "KC_5"), DrawEntry(matrix: [0, 6], x: 6.0, y: 0.0, w: 1.0, text: "KC_6"), DrawEntry(matrix: [0, 7], x: 7.0, y: 0.0, w: 1.0, text: "KC_7"), DrawEntry(matrix: [0, 8], x: 8.0, y: 0.0, w: 1.0, text: "KC_8"), DrawEntry(matrix: [0, 9], x: 9.0, y: 0.0, w: 1.0, text: "KC_9"), DrawEntry(matrix: [0, 10], x: 10.0, y: 0.0, w: 1.0, text: "KC_0"), DrawEntry(matrix: [0, 11], x: 11.0, y: 0.0, w: 1.0, text: "KC_MINS"), DrawEntry(matrix: [0, 12], x: 12.0, y: 0.0, w: 1.0, text: "KC_EQL"), DrawEntry(matrix: [0, 13], x: 13.0, y: 0.0, w: 1.0, text: "KC_BSLS"), DrawEntry(matrix: [2, 13], x: 14.0, y: 0.0, w: 1.0, text: "KC_DEL"), DrawEntry(matrix: [1, 0], x: 0.0, y: 1.0, w: 1.5, text: "KC_TAB"), DrawEntry(matrix: [1, 1], x: 1.5, y: 1.0, w: 1.0, text: "KC_Q"), DrawEntry(matrix: [1, 2], x: 2.5, y: 1.0, w: 1.0, text: "KC_W"), DrawEntry(matrix: [1, 3], x: 3.5, y: 1.0, w: 1.0, text: "KC_E"), DrawEntry(matrix: [1, 4], x: 4.5, y: 1.0, w: 1.0, text: "KC_R"), DrawEntry(matrix: [1, 5], x: 5.5, y: 1.0, w: 1.0, text: "KC_T"), DrawEntry(matrix: [1, 6], x: 6.5, y: 1.0, w: 1.0, text: "KC_Y"), DrawEntry(matrix: [1, 7], x: 7.5, y: 1.0, w: 1.0, text: "KC_U"), DrawEntry(matrix: [1, 8], x: 8.5, y: 1.0, w: 1.0, text: "KC_I"), DrawEntry(matrix: [1, 9], x: 9.5, y: 1.0, w: 1.0, text: "KC_O"), DrawEntry(matrix: [1, 10], x: 10.5, y: 1.0, w: 1.0, text: "KC_P"), DrawEntry(matrix: [1, 11], x: 11.5, y: 1.0, w: 1.0, text: "KC_LBRC"), DrawEntry(matrix: [1, 12], x: 12.5, y: 1.0, w: 1.0, text: "KC_RBRC"), DrawEntry(matrix: [1, 13], x: 13.5, y: 1.0, w: 1.5, text: "KC_BSPC"), DrawEntry(matrix: [2, 0], x: 0.0, y: 2.0, w: 1.75, text: "KC_LCTL"), DrawEntry(matrix: [2, 1], x: 1.75, y: 2.0, w: 1.0, text: "KC_A"), DrawEntry(matrix: [2, 2], x: 2.75, y: 2.0, w: 1.0, text: "KC_S"), DrawEntry(matrix: [2, 3], x: 3.75, y: 2.0, w: 1.0, text: "KC_D"), DrawEntry(matrix: [2, 4], x: 4.75, y: 2.0, w: 1.0, text: "KC_F"), DrawEntry(matrix: [2, 5], x: 5.75, y: 2.0, w: 1.0, text: "KC_G"), DrawEntry(matrix: [2, 6], x: 6.75, y: 2.0, w: 1.0, text: "KC_H"), DrawEntry(matrix: [2, 7], x: 7.75, y: 2.0, w: 1.0, text: "KC_J"), DrawEntry(matrix: [2, 8], x: 8.75, y: 2.0, w: 1.0, text: "KC_K"), DrawEntry(matrix: [2, 9], x: 9.75, y: 2.0, w: 1.0, text: "KC_L"), DrawEntry(matrix: [2, 10], x: 10.75, y: 2.0, w: 1.0, text: "KC_SCLN"), DrawEntry(matrix: [2, 11], x: 11.75, y: 2.0, w: 1.0, text: "KC_QUOT"), DrawEntry(matrix: [2, 12], x: 12.75, y: 2.0, w: 2.25, text: "KC_ENT"), DrawEntry(matrix: [3, 0], x: 0.0, y: 3.0, w: 2.25, text: "KC_LSFT"), DrawEntry(matrix: [3, 2], x: 2.25, y: 3.0, w: 1.0, text: "KC_Z"), DrawEntry(matrix: [3, 3], x: 3.25, y: 3.0, w: 1.0, text: "KC_X"), DrawEntry(matrix: [3, 4], x: 4.25, y: 3.0, w: 1.0, text: "KC_C"), DrawEntry(matrix: [3, 5], x: 5.25, y: 3.0, w: 1.0, text: "KC_V"), DrawEntry(matrix: [3, 6], x: 6.25, y: 3.0, w: 1.0, text: "KC_B"), DrawEntry(matrix: [3, 7], x: 7.25, y: 3.0, w: 1.0, text: "KC_N"), DrawEntry(matrix: [3, 8], x: 8.25, y: 3.0, w: 1.0, text: "KC_M"), DrawEntry(matrix: [3, 9], x: 9.25, y: 3.0, w: 1.0, text: "KC_COMM"), DrawEntry(matrix: [3, 10], x: 10.25, y: 3.0, w: 1.0, text: "KC_DOT"), DrawEntry(matrix: [3, 11], x: 11.25, y: 3.0, w: 1.0, text: "KC_SLSH"), DrawEntry(matrix: [3, 12], x: 12.25, y: 3.0, w: 1.75, text: "KC_RSFT"), DrawEntry(matrix: [3, 13], x: 14.0, y: 3.0, w: 1.0, text: "ANY(TL_LOWR)"), DrawEntry(matrix: [4, 1], x: 1.5, y: 4.0, w: 1.0, text: "KC_LGUI"), DrawEntry(matrix: [4, 2], x: 2.5, y: 4.0, w: 1.5, text: "KC_LALT"), DrawEntry(matrix: [4, 7], x: 4.0, y: 4.0, w: 7.0, text: "KC_SPC"), DrawEntry(matrix: [4, 11], x: 11.0, y: 4.0, w: 1.5, text: "KC_RALT"), DrawEntry(matrix: [4, 12], x: 12.5, y: 4.0, w: 1.0, text: "ANY(TL_UPPR)")]])
            return envObj
        }() )
    }
    
    
}
